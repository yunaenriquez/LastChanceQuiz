{% extends 'base.html' %}

{% block title %}My Profile - RideShare{% endblock %}
{% block user_role %}My Profile{% endblock %}

{% block sidebar_menu %}
    <a href="{% url 'customer-dashboard' %}" class="sidebar-link {% if request.resolver_match.url_name == 'customer-dashboard' %}active{% endif %}">
        <i class="bi bi-speedometer2"></i> Dashboard
    </a>
    <a href="{% url 'create-ride' %}" class="sidebar-link {% if request.resolver_match.url_name == 'create-ride' %}active{% endif %}">
        <i class="bi bi-plus-circle"></i> Request Ride
    </a>
    <a href="{% url 'customer-active-rides' %}" class="sidebar-link {% if request.resolver_match.url_name == 'customer-active-rides' %}active{% endif %}">
        <i class="bi bi-car-front"></i> Active Rides
    </a>
    <a href="{% url 'customer-history' %}" class="sidebar-link {% if request.resolver_match.url_name == 'customer-history' %}active{% endif %}">
        <i class="bi bi-clock-history"></i> Ride History
    </a>
    <hr class="text-white">
    <a href="{% url 'profile' %}" class="sidebar-link {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
        <i class="bi bi-person-circle"></i> My Profile
    </a>
    <a href="#" class="sidebar-link">
        <i class="bi bi-wallet2"></i> Balance: ₱{{ request.user.balance }}
    </a>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>My Profile</h2>
    <p>Welcome, {{ request.user.get_full_name }}!</p>

    <div class="card mt-3">
        <div class="card-header bg-primary text-white">
            Account Information
        </div>
        <div class="card-body">
            <p><strong>Username:</strong> {{ request.user.username }}</p>
            <p><strong>Email:</strong> {{ request.user.email }}</p>
            <p><strong>Full Name:</strong> {{ request.user.get_full_name }}</p>
            <p><strong>Role:</strong> {{ request.user.get_user_role_display }}</p>
            <p><strong>Balance:</strong> ₱{{ request.user.balance }}</p>
            <p><strong>Date Joined:</strong> {{ request.user.date_joined|date:"M d, Y" }}</p>
        </div>
    </div>

    <div class="mt-3">
        <a href="{% url 'customer-dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
        <!-- Optional: Add Edit Profile button -->
        <!-- <a href="{% url 'edit-profile' %}" class="btn btn-primary">Edit Profile</a> -->
    </div>
</div>
{% endblock %}
